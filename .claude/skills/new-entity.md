Create a new entity following the project's established scaffolding pattern.

The user will provide an entity name (e.g. "grant", "coachCard", "trainingSession"). Derive all naming variants from it:
- **PascalCase**: e.g. `CoachCard`
- **camelCase**: e.g. `coachCard`
- **kebab-case**: e.g. `coach-card`
- **snake_case** (DB table): e.g. `coach_cards` (plural)
- **Plural PascalCase**: e.g. `CoachCards`
- **Plural camelCase folder**: e.g. `coachCards`

Ask the user for:
1. The entity name (if not already provided)
2. The DB table name (default: snake_case plural of entity name)
3. The fields/columns (name + TypeScript type) — or say "I'll add fields manually" to skip

---

## Files to create

### 1. `src/types/entities/{camelCase}/schema/{camelCase}Schema.ts`

Auto-generated schema pattern (mark as auto-generated, do NOT edit manually):

```ts
/**
 * Database schema for `{db_table}` table
 *
 * ⚠️ AUTO-GENERATED - DO NOT EDIT MANUALLY
 * Generated by: scripts/split-db-types.js
 * Source: src/types/database/supabase.ts
 *
 * To regenerate:
 *   1. Run database migrations
 *   2. Run: npm run generate:types
 *
 * Last generated: {today's date YYYY-MM-DD}
 */

export interface {PascalCase}Schema {
  id: string
  created_at: string | null
  updated_at: string | null
  // ... user-supplied fields
}

export type {PascalCase}Insert = Omit<
  {PascalCase}Schema,
  'id' | 'created_at' | 'updated_at'
> & {
  id?: string;
};

export type {PascalCase}Update = {
  id: string;
} & Partial<Omit<{PascalCase}Schema, 'id' | 'created_at' | 'updated_at'>>;
```

### 2. `src/types/entities/{camelCase}/data/{camelCase}.ts`

Domain types that extend the schema:

```ts
import { {PascalCase}Schema } from '@/types';

export interface {PascalCase} extends {PascalCase}Schema {}

// Add derived/composed interfaces if needed (e.g. {PascalCase}WithRelation)
```

### 3. `src/queries/{pluralCamel}/constants.ts`

```ts
export const DB_TABLE = '{db_table}';

export const ENTITY = {
  plural: '{PluralPascal}',
  singular: '{PascalCase}',
};
```

### 4. `src/queries/{pluralCamel}/queries.ts`

Follow the existing pattern using `buildSelectQuery`, `buildSelectOneQuery`, `handleSupabasePaginationBug` from `@/queries`. Include `getAll{Plural}` and `get{Singular}ById` at minimum.

### 5. `src/queries/{pluralCamel}/mutations.ts`

Follow existing pattern with `create{Singular}`, `update{Singular}`, `delete{Singular}` — each taking `ctx: QueryContext` as first arg, returning `Promise<QueryResult<...>>`.

### 6. `src/queries/{pluralCamel}/index.ts`

Barrel exporting everything from constants, queries, mutations.

### 7. `src/hooks/entities/{kebab-case}/data/useFetch{PascalCase}s.ts`

Client-side fetch hook using `createDataFetchHook` factory from `@/hooks`. Mark `'use client'` at top. Import entity name, endpoint, translations from proper paths.

### 8. `src/hooks/entities/{kebab-case}/state/use{PascalCase}.ts`

CRUD state hook using `createCRUDHook` factory from `@/hooks`. Returns named mutation functions: `create{Singular}`, `update{Singular}`, `delete{Singular}`.

### 9. `src/lib/translations/{pluralCamel}.ts`

Translation object `{pluralCamel}Translations` with keys: `toasts` (fetchError, createSuccess, createError, updateSuccess, updateError, deleteSuccess, deleteError) and `responseMessages` (same keys). Use Czech strings matching the project convention.

---

## Files to update

After creating all new files, update these barrel files:

- **`src/types/entities/{camelCase}/schema/index.ts`** — export from new schema file (create if missing)
- **`src/types/entities/{camelCase}/data/index.ts`** — export from new data file (create if missing)
- **`src/types/index.ts`** — add export for new entity types
- **`src/queries/{pluralCamel}/index.ts`** — already created above
- **`src/hooks/index.ts`** — add export for new hooks
- **`src/lib/translations/index.ts`** — add `{pluralCamel}Translations` to the `translations` object
- **`src/lib/api-routes.ts`** — add route key for the new entity under `API_ROUTES`

---

## After scaffolding

Remind the user to:
1. Run `npm run db:generate-types` after creating the DB migration/table
2. Run `npm run db:generate-schemas` to regenerate the schema file (replacing the manual one)
3. Run `npm run generate:hooks && npm run generate:types && npm run generate:components` to update barrels
4. Create a migration file in `scripts/migrations/` (use `/new-migration` skill)
5. Create the API route at `src/app/api/{kebab-case-plural}/route.ts` if needed
