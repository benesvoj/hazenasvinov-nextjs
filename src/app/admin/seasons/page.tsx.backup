import {createClient} from '@/utils/supabase/server';

import {SeasonsPageClient} from './SeasonsPageClient';

export default async function SeasonsAdminPage() {
	const supabase = await createClient();

	const {data: seasons, error} = await supabase
		.from('seasons')
		.select('*')
		.order('created_at', {ascending: false});

	if (error) {
		console.error('Error fetching seasons:', error);
		return <div>Error loading seasons</div>;
	}

	return <SeasonsPageClient initialSeasons={seasons || []} />;
}